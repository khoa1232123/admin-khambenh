{"version":3,"sources":["helpers/index.jsx","helpers/renderOptions.jsx","views/khambenh/Chitietphieukham/ModalChitietphieukham.jsx","views/khambenh/Chitietphieukham/index.jsx"],"names":["randomMaso","prefix","random","Math","floor","replace","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","formatInputDate","renderOptions","options","data","push","value","item","_id","mso","msobn","ten","convertPhieukham","phieukham","map","index","hosobenhnhan","ModalChitietphieukham","modal","setModal","oldChitietphieukham","dispatch","useDispatch","benhs","useSelector","state","benh","phieukhambenhs","phieukhambenh","toathuocs","toathuoc","bacsis","bacsi","useState","chitietbenh","setChitietbenh","useEffect","getBenhs","getToathuocs","getBacsis","getPhieukhambenhs","console","log","chitietphieukham","setChitietphieukham","handleChange","e","name","target","closeModal","show","onClose","closeButton","action","method","className","row","md","htmlFor","xs","id","onChange","newChitiet","handleChangeMulti","type","color","onClick","rows","placeholder","trieuchung","Object","keys","createChitietphieukham","updateChitietphieukham","Chitietphieukham","setOldChitietphieukham","chitietphieukhams","getChitietphieukhams","lg","style","display","justifyContent","alignItems","items","fields","striped","itemsPerPage","pagination","scopedSlots","to","actions","handleUpdate","window","confirm","deleteChitietphieukham","handleDelete"],"mappings":"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","file":"static/js/4.26012718.chunk.js","sourcesContent":["const randomMaso = (prefix) => {\r\n  let random = Math.floor(Math.random() * 999999) + 1000001;\r\n  random = random + \"\";\r\n  let del_str = random.replace(\"1\", \"\");\r\n  return prefix + del_str;\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [day, month, year].join(\"/\");\r\n};\r\n\r\nconst formatInputDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n};\r\n\r\nconst renderGioitinh = () => {\r\n  var data = [];\r\n  data.push(<option value=\"\">--Select Options--</option>);\r\n  data.push(<option value=\"nam\">Nam</option>);\r\n  data.push(<option value=\"nu\">Nữ</option>);\r\n  data.push(<option value=\"khac\">Khác</option>);\r\n\r\n  return data;\r\n};\r\n\r\nexport { randomMaso, formatDate, renderGioitinh, formatInputDate };\r\n","const renderOptions = (options) => {\r\n  const data = [];\r\n  data.push(\r\n    <option value=\"\" key=\"1\">\r\n      -- Select Options --\r\n    </option>\r\n  );\r\n\r\n  for (const item of options) {\r\n    data.push(\r\n      <option value={item._id} key={item._id}>{`${item.mso} - ${\r\n        item.msobn ? item.msobn : \"\"\r\n      } ${item.ten}`}</option>\r\n    );\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nconst convertPhieukham = (phieukham) => {\r\n  const data = [];\r\n  // eslint-disable-next-line array-callback-return\r\n  phieukham.map((item, index) => {\r\n    data.push({\r\n      _id: item._id,\r\n      mso: item.mso,\r\n      msobn: item.hosobenhnhan.mso,\r\n      ten: item.hosobenhnhan.ten,\r\n    });\r\n  });\r\n  return data;\r\n};\r\n\r\nexport { renderOptions, convertPhieukham };\r\n","import {\r\n  CButton,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CLabel,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CSelect,\r\n  CTextarea,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { randomMaso } from \"src/helpers\";\r\nimport { convertPhieukham, renderOptions } from \"src/helpers/renderOptions\";\r\nimport {\r\n  createChitietphieukham,\r\n  getBenhs,\r\n  updateChitietphieukham,\r\n} from \"src/redux/action-creators\";\r\nimport { getBacsis } from \"src/redux/action-creators/bacsiActions\";\r\nimport { getPhieukhambenhs } from \"src/redux/action-creators/phieukhambenhActions\";\r\nimport { getToathuocs } from \"src/redux/action-creators/toathuocActions\";\r\n\r\nconst ModalChitietphieukham = ({ modal, setModal, oldChitietphieukham }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { benhs } = useSelector((state) => state.benh);\r\n  const { phieukhambenhs } = useSelector((state) => state.phieukhambenh);\r\n  const { toathuocs } = useSelector((state) => state.toathuoc);\r\n  const { bacsis } = useSelector((state) => state.bacsi);\r\n\r\n  const [chitietbenh, setChitietbenh] = useState([{}]);\r\n\r\n  useEffect(() => {\r\n    dispatch(getBenhs());\r\n    dispatch(getToathuocs());\r\n    dispatch(getBacsis());\r\n    dispatch(getPhieukhambenhs());\r\n  }, [dispatch]);\r\n\r\n  console.log(phieukhambenhs);\r\n\r\n  const [chitietphieukham, setChitietphieukham] = useState({});\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e);\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setChitietphieukham({ ...chitietphieukham, [name]: value });\r\n  };\r\n\r\n  const handleChangeMulti = (e, index) => {\r\n    console.log(e);\r\n    let newChitiet = [...chitietbenh];\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    newChitiet[index][name] = value;\r\n\r\n    setChitietbenh(newChitiet);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (oldChitietphieukham) {\r\n      setChitietphieukham(oldChitietphieukham);\r\n    }\r\n  }, [oldChitietphieukham]);\r\n\r\n  const handleClick = () => {\r\n    console.log({ chitietphieukham, oldChitietphieukham });\r\n    chitietphieukham[\"chitiet\"] = chitietbenh;\r\n    if (chitietphieukham.ten !== \"\") {\r\n      if (Object.keys(oldChitietphieukham).length === 0) {\r\n        chitietphieukham[\"mso\"] = randomMaso(\"xn\");\r\n\r\n        dispatch(createChitietphieukham(chitietphieukham));\r\n      } else {\r\n        dispatch(updateChitietphieukham(chitietphieukham));\r\n      }\r\n      setChitietphieukham({});\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  const addBenh = () => {\r\n    setChitietbenh([...chitietbenh, { benh: \"\" }]);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setChitietphieukham({});\r\n    setModal(false);\r\n  };\r\n\r\n  return (\r\n    <CModal show={modal} onClose={closeModal}>\r\n      <CModalHeader closeButton>\r\n        <CModalTitle>Update Chitietphieukham</CModalTitle>\r\n      </CModalHeader>\r\n      <CModalBody>\r\n        <CForm action=\"\" method=\"post\" className=\"form-horizontal\">\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Phiếu khám bệnh</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CSelect\r\n                id=\"phieukhambenh\"\r\n                name=\"phieukhambenh\"\r\n                value={\r\n                  (chitietphieukham.phieukhambenh &&\r\n                    chitietphieukham.phieukhambenh._id) ||\r\n                  chitietphieukham.phieukhambenh ||\r\n                  \"\"\r\n                }\r\n                onChange={handleChange}\r\n              >\r\n                {renderOptions(convertPhieukham(phieukhambenhs))}\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Toa thuốc</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CSelect\r\n                id=\"toathuoc\"\r\n                name=\"toathuoc\"\r\n                value={\r\n                  (chitietphieukham.toathuoc &&\r\n                    chitietphieukham.toathuoc._id) ||\r\n                  chitietphieukham.toathuoc ||\r\n                  \"\"\r\n                }\r\n                onChange={handleChange}\r\n              >\r\n                {renderOptions(toathuocs)}\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Bác sĩ</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CSelect\r\n                id=\"bacsi\"\r\n                name=\"bacsi\"\r\n                value={\r\n                  (chitietphieukham.bacsi && chitietphieukham.bacsi._id) ||\r\n                  chitietphieukham.bacsi ||\r\n                  \"\"\r\n                }\r\n                onChange={handleChange}\r\n              >\r\n                {renderOptions(bacsis)}\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Danh sách thuốc</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              {chitietbenh.map((item, index) => (\r\n                <CRow key={index}>\r\n                  <CCol xs=\"12\" md=\"12\">\r\n                    <CSelect\r\n                      name=\"benh\"\r\n                      value={(item.benh && item.benh._id) || item.benh || \"\"}\r\n                      onChange={(e) => handleChangeMulti(e, index)}\r\n                    >\r\n                      {renderOptions(benhs)}\r\n                    </CSelect>\r\n                  </CCol>\r\n\r\n                  <CCol xs=\"12\" md=\"12\">\r\n                    <br />\r\n                  </CCol>\r\n                </CRow>\r\n              ))}\r\n              <CCol xs=\"12\" md=\"12\">\r\n                <CButton type=\"button\" color=\"success\" onClick={addBenh}>\r\n                  Thêm Bệnh\r\n                </CButton>\r\n              </CCol>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Triệu chứng</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CTextarea\r\n                id=\"trieuchung\"\r\n                name=\"trieuchung\"\r\n                rows={5}\r\n                placeholder=\"Triệu chứng\"\r\n                value={chitietphieukham.trieuchung || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n        </CForm>\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton color=\"primary\" onClick={handleClick}>\r\n          Do Something\r\n        </CButton>{\" \"}\r\n        <CButton color=\"secondary\" onClick={closeModal}>\r\n          Cancel\r\n        </CButton>\r\n      </CModalFooter>\r\n    </CModal>\r\n  );\r\n};\r\n\r\nexport default ModalChitietphieukham;\r\n","import {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  deleteChitietphieukham,\r\n  getChitietphieukhams,\r\n} from \"src/redux/action-creators\";\r\nimport ModalChitietphieukham from \"./ModalChitietphieukham\";\r\n\r\nconst Chitietphieukham = () => {\r\n  const dispatch = useDispatch();\r\n  const [oldChitietphieukham, setOldChitietphieukham] = useState({});\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const { chitietphieukhams } = useSelector((state) => state.chitietphieukham);\r\n\r\n  useEffect(() => {\r\n    dispatch(getChitietphieukhams());\r\n  }, [dispatch]);\r\n\r\n  console.log(chitietphieukhams);\r\n\r\n  const handleUpdate = (item) => {\r\n    setOldChitietphieukham(item);\r\n    setModal(true);\r\n  };\r\n\r\n  const handleDelete = (item) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      dispatch(deleteChitietphieukham(item));\r\n    }\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setModal(true);\r\n  };\r\n\r\n  console.log(chitietphieukhams);\r\n\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardHeader\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <span>Posts</span>\r\n              <CButton color=\"success\" onClick={handleClick}>\r\n                Add Post\r\n              </CButton>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              <CDataTable\r\n                items={chitietphieukhams}\r\n                fields={[\r\n                  \"Mã Số\",\r\n                  \"Bác sĩ\",\r\n                  \"Phiếu khám\",\r\n                  \"Bệnh Nhân\",\r\n                  // \"Tên bệnh nhân\",\r\n                  // \"email\",\r\n                  // \"Số điện thoại\",\r\n                  \"actions\",\r\n                ]}\r\n                striped\r\n                itemsPerPage={10}\r\n                pagination\r\n                scopedSlots={{\r\n                  \"Mã Số\": (item) => (\r\n                    <td>\r\n                      <Link\r\n                        to={\"/khambenh/chitietphieukham/detail/\" + item._id}\r\n                      >\r\n                        {item.mso}\r\n                      </Link>\r\n                    </td>\r\n                  ),\r\n                  \"Bác sĩ\": (item) => (\r\n                    <td>\r\n                      {item.bacsi.mso} - {item.bacsi.ten}\r\n                    </td>\r\n                  ),\r\n                  \"Phiếu khám\": (item) => <td>{item.phieukhambenh.mso}</td>,\r\n                  \"Bệnh Nhân\": (item) => (\r\n                    <td>\r\n                      {item.phieukhambenh.hosobenhnhan.mso} -{\" \"}\r\n                      {item.phieukhambenh.hosobenhnhan.ten}\r\n                    </td>\r\n                  ),\r\n                  actions: (item) => (\r\n                    <td>\r\n                      <CButton\r\n                        color=\"warning\"\r\n                        onClick={(e) => handleUpdate(item)}\r\n                      >\r\n                        Edit\r\n                      </CButton>{\" \"}\r\n                      <CButton\r\n                        color=\"danger\"\r\n                        onClick={(e) => handleDelete(item)}\r\n                      >\r\n                        Delete\r\n                      </CButton>\r\n                    </td>\r\n                  ),\r\n                }}\r\n              />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <ModalChitietphieukham\r\n        modal={modal}\r\n        setModal={setModal}\r\n        oldChitietphieukham={oldChitietphieukham}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chitietphieukham;\r\n"],"sourceRoot":""}