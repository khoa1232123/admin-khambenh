{"version":3,"sources":["helpers/index.jsx","helpers/renderOptions.jsx","views/khambenh/Chitietphieukham/ModalToathuoc.jsx","views/khambenh/Chitietphieukham/ModalChitietbenh.jsx","views/khambenh/Chitietphieukham/Detail.jsx"],"names":["randomMaso","prefix","random","Math","floor","replace","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","formatInputDate","renderOptions","options","data","push","value","item","_id","mso","msobn","ten","convertPhieukham","phieukham","map","hosobenhnhan","ModalToathuoc","modal","setModal","oldToathuoc","chitietphieukham","id","useParams","dispatch","useDispatch","thuocs","useSelector","state","thuoc","useEffect","getThuocs","console","log","useState","toathuoc","setToathuoc","soluong","chitiettoathuoc","setChitiettoathuoc","handleChangeMulti","e","index","newChitiet","name","target","Number","Object","keys","chitiet","closeModal","show","onClose","size","closeButton","action","method","className","row","md","htmlFor","xs","type","placeholder","ngaylap","onChange","color","onClick","splice","handleRemoveThuoc","updateTTChitietphieukham","getChitietphieukham","updateToathuoc","ModalChitietbenh","oldChitietbenh","benhs","benh","getBenhs","chitietbenh","setChitietbenh","handleRemoveBenh","updateDTChitietphieukham","Detail","modalTT","setModalTT","modalCB","setModalCB","lg","style","display","justifyContent","alignItems","bacsi","phieukhambenh","trieuchung","paddingBottom","marginTop","marginBottom","items","fields","striped","itemsPerPage","pagination","scopedSlots"],"mappings":"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","file":"static/js/4.31576ec9.chunk.js","sourcesContent":["const randomMaso = (prefix) => {\r\n  let random = Math.floor(Math.random() * 999999) + 1000001;\r\n  random = random + \"\";\r\n  let del_str = random.replace(\"1\", \"\");\r\n  return prefix + del_str;\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [day, month, year].join(\"/\");\r\n};\r\n\r\nconst formatInputDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n};\r\n\r\nconst renderGioitinh = () => {\r\n  var data = [];\r\n  data.push(<option value=\"\">--Select Options--</option>);\r\n  data.push(<option value=\"nam\">Nam</option>);\r\n  data.push(<option value=\"nu\">Nữ</option>);\r\n  data.push(<option value=\"khac\">Khác</option>);\r\n\r\n  return data;\r\n};\r\n\r\nexport { randomMaso, formatDate, renderGioitinh, formatInputDate };\r\n","const renderOptions = (options) => {\r\n  const data = [];\r\n  data.push(\r\n    <option value=\"\" key=\"1\">\r\n      -- Select Options --\r\n    </option>\r\n  );\r\n\r\n  for (const item of options) {\r\n    data.push(\r\n      <option value={item._id} key={item._id}>{`${item.mso} - ${\r\n        item.msobn ? item.msobn : \"\"\r\n      } ${item.ten ? item.ten : \"\"}`}</option>\r\n    );\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nconst convertPhieukham = (phieukham) => {\r\n  const data = [];\r\n  // eslint-disable-next-line array-callback-return\r\n  phieukham.map((item) => {\r\n    data.push({\r\n      _id: item._id,\r\n      mso: item.mso,\r\n      msobn: item.hosobenhnhan.mso,\r\n      ten: item.hosobenhnhan.ten,\r\n    });\r\n  });\r\n  return data;\r\n};\r\n\r\nexport { renderOptions, convertPhieukham };\r\n","import {\r\n  CButton,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CSelect,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { formatInputDate, randomMaso } from \"src/helpers\";\r\nimport { renderOptions } from \"src/helpers/renderOptions\";\r\nimport {\r\n  updateToathuoc,\r\n  getThuocs,\r\n  getChitietphieukham,\r\n  updateTTChitietphieukham,\r\n} from \"src/redux/action-creators\";\r\n\r\nconst ModalToathuoc = ({ modal, setModal, oldToathuoc, chitietphieukham }) => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const { thuocs } = useSelector((state) => state.thuoc);\r\n\r\n  useEffect(() => {\r\n    dispatch(getThuocs());\r\n  }, [dispatch]);\r\n\r\n  console.log(oldToathuoc);\r\n\r\n  const [toathuoc, setToathuoc] = useState({});\r\n\r\n  const [chitiettoathuoc, setChitiettoathuoc] = useState([\r\n    { thuoc: \"\", soluong: 0 },\r\n  ]);\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e.target.name);\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setToathuoc({ ...toathuoc, [name]: value });\r\n  };\r\n\r\n  const handleChangeMulti = (e, index) => {\r\n    console.log(e);\r\n    let newChitiet = [...chitiettoathuoc];\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    if (name === \"soluong\") {\r\n      newChitiet[index][name] = Number(value);\r\n    } else {\r\n      newChitiet[index][name] = value;\r\n    }\r\n    setChitiettoathuoc(newChitiet);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(oldToathuoc).length !== 0) {\r\n      setToathuoc(oldToathuoc);\r\n      setChitiettoathuoc([...oldToathuoc.chitiet]);\r\n    }\r\n  }, [oldToathuoc]);\r\n\r\n  const handleClick = () => {\r\n    console.log({ toathuoc, oldToathuoc, chitiettoathuoc });\r\n    toathuoc[\"chitiet\"] = chitiettoathuoc;\r\n    if (Object.keys(oldToathuoc).length === 0) {\r\n      toathuoc[\"mso\"] = randomMaso(\"tt\");\r\n      dispatch(updateTTChitietphieukham({ toathuoc, chitietphieukham }));\r\n      dispatch(getChitietphieukham(id));\r\n    } else {\r\n      dispatch(updateToathuoc(toathuoc));\r\n      dispatch(getChitietphieukham(id));\r\n    }\r\n    setToathuoc({});\r\n    setChitiettoathuoc([{ thuoc: \"\", soluong: 0 }]);\r\n    setModal(false);\r\n  };\r\n\r\n  const addThuoc = () => {\r\n    setChitiettoathuoc([...chitiettoathuoc, { thuoc: \"\", soluong: 0 }]);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setToathuoc({});\r\n    setChitiettoathuoc([{ thuoc: \"\", soluong: 0 }]);\r\n    setModal(false);\r\n  };\r\n\r\n  const handleRemoveThuoc = (e, index) => {\r\n    console.log(chitiettoathuoc);\r\n    let newChitiet = [...chitiettoathuoc];\r\n    newChitiet.splice(index, 1);\r\n    setChitiettoathuoc(newChitiet);\r\n  };\r\n\r\n  return (\r\n    <CModal show={modal} onClose={closeModal} size=\"lg\">\r\n      <CModalHeader closeButton>\r\n        <CModalTitle>Toathuoc</CModalTitle>\r\n      </CModalHeader>\r\n      <CModalBody>\r\n        <CForm action=\"\" method=\"post\" className=\"form-horizontal\">\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Ngày lập</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CInput\r\n                id=\"ngaylap\"\r\n                type=\"date\"\r\n                name=\"ngaylap\"\r\n                placeholder=\"Ngày lập\"\r\n                value={formatInputDate(toathuoc.ngaylap) || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Danh sách thuốc</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              {chitiettoathuoc.map((item, index) => (\r\n                <CRow key={index}>\r\n                  <CCol xs=\"7\" md=\"7\">\r\n                    <CSelect\r\n                      name=\"thuoc\"\r\n                      value={(item.thuoc && item.thuoc._id) || item.thuoc || \"\"}\r\n                      onChange={(e) => handleChangeMulti(e, index)}\r\n                    >\r\n                      {renderOptions(thuocs)}\r\n                    </CSelect>\r\n                  </CCol>\r\n                  <CCol xs=\"3\" md=\"3\">\r\n                    <CInput\r\n                      name=\"soluong\"\r\n                      type=\"number\"\r\n                      value={item.soluong || 0}\r\n                      onChange={(e) => handleChangeMulti(e, index)}\r\n                    />\r\n                  </CCol>\r\n                  <CCol xs=\"2\" md=\"2\">\r\n                    <CButton\r\n                      color=\"danger\"\r\n                      onClick={(e) => handleRemoveThuoc(e, index)}\r\n                    >\r\n                      X\r\n                    </CButton>\r\n                  </CCol>\r\n\r\n                  <CCol xs=\"12\" md=\"12\">\r\n                    <br />\r\n                  </CCol>\r\n                </CRow>\r\n              ))}\r\n              <CCol xs=\"12\" md=\"12\">\r\n                <CButton type=\"button\" color=\"success\" onClick={addThuoc}>\r\n                  Thêm thuốc\r\n                </CButton>\r\n              </CCol>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\"></CCol>\r\n            <CCol xs=\"12\" md=\"9\"></CCol>\r\n          </CFormGroup>\r\n        </CForm>\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton color=\"primary\" onClick={handleClick}>\r\n          Submit\r\n        </CButton>{\" \"}\r\n        <CButton color=\"secondary\" onClick={closeModal}>\r\n          Cancel\r\n        </CButton>\r\n      </CModalFooter>\r\n    </CModal>\r\n  );\r\n};\r\n\r\nexport default ModalToathuoc;\r\n","import {\r\n  CButton,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CLabel,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CRow,\r\n  CSelect,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { renderOptions } from \"src/helpers/renderOptions\";\r\nimport { getBenhs } from \"src/redux/action-creators\";\r\nimport {\r\n  getChitietphieukham,\r\n  updateDTChitietphieukham,\r\n} from \"src/redux/action-creators/chitietphieukhamActions\";\r\n\r\nconst ModalChitietbenh = ({\r\n  modal,\r\n  setModal,\r\n  oldChitietbenh,\r\n  chitietphieukham,\r\n}) => {\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n\r\n  const { benhs } = useSelector((state) => state.benh);\r\n\r\n  useEffect(() => {\r\n    dispatch(getBenhs());\r\n  }, [dispatch]);\r\n\r\n  console.log(oldChitietbenh);\r\n\r\n  const [chitietbenh, setChitietbenh] = useState([{ benh: \"\" }]);\r\n\r\n  const handleChangeMulti = (e, index) => {\r\n    console.log(e);\r\n    let newChitiet = [...chitietbenh];\r\n    let name = e.target.name;\r\n    let value = e.target.value;\r\n    if (name === \"soluong\") {\r\n      newChitiet[index][name] = Number(value);\r\n    } else {\r\n      newChitiet[index][name] = value;\r\n    }\r\n    setChitietbenh(newChitiet);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (oldChitietbenh.length !== 0) {\r\n      setChitietbenh([...oldChitietbenh]);\r\n    }\r\n  }, [oldChitietbenh]);\r\n\r\n  const handleClick = () => {\r\n    console.log(chitietbenh);\r\n    if (Object.keys(chitietphieukham).length !== 0) {\r\n      dispatch(updateDTChitietphieukham({ chitietbenh, chitietphieukham }));\r\n    }\r\n    dispatch(getChitietphieukham(id));\r\n    setChitietbenh([{ benh: \"\" }]);\r\n    setModal(false);\r\n  };\r\n\r\n  const addBenh = () => {\r\n    setChitietbenh([...chitietbenh, { benh: \"\" }]);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setChitietbenh([{ benh: \"\" }]);\r\n    setModal(false);\r\n  };\r\n\r\n  const handleRemoveBenh = (e, index) => {\r\n    console.log(chitietbenh);\r\n    let newChitiet = [...chitietbenh];\r\n    newChitiet.splice(index, 1);\r\n    setChitietbenh(newChitiet);\r\n  };\r\n\r\n  return (\r\n    <CModal show={modal} onClose={closeModal} size=\"lg\">\r\n      <CModalHeader closeButton>\r\n        <CModalTitle>Chi tiết bệnh</CModalTitle>\r\n      </CModalHeader>\r\n      <CModalBody>\r\n        <CForm action=\"\" method=\"post\" className=\"form-horizontal\">\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Danh sách Bệnh</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              {chitietbenh.map((item, index) => (\r\n                <CRow key={index}>\r\n                  <CCol xs=\"10\" md=\"10\">\r\n                    <CSelect\r\n                      name=\"benh\"\r\n                      value={(item.benh && item.benh._id) || item.benh || \"\"}\r\n                      onChange={(e) => handleChangeMulti(e, index)}\r\n                    >\r\n                      {renderOptions(benhs)}\r\n                    </CSelect>\r\n                  </CCol>\r\n                  <CCol xs=\"2\" md=\"2\">\r\n                    <CButton\r\n                      color=\"danger\"\r\n                      onClick={(e) => handleRemoveBenh(e, index)}\r\n                    >\r\n                      X\r\n                    </CButton>\r\n                  </CCol>\r\n\r\n                  <CCol xs=\"12\" md=\"12\">\r\n                    <br />\r\n                  </CCol>\r\n                </CRow>\r\n              ))}\r\n              <CCol xs=\"12\" md=\"12\">\r\n                <CButton type=\"button\" color=\"success\" onClick={addBenh}>\r\n                  Thêm thuốc\r\n                </CButton>\r\n              </CCol>\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\"></CCol>\r\n            <CCol xs=\"12\" md=\"9\"></CCol>\r\n          </CFormGroup>\r\n        </CForm>\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton color=\"primary\" onClick={handleClick}>\r\n          Submit\r\n        </CButton>{\" \"}\r\n        <CButton color=\"secondary\" onClick={closeModal}>\r\n          Cancel\r\n        </CButton>\r\n      </CModalFooter>\r\n    </CModal>\r\n  );\r\n};\r\n\r\nexport default ModalChitietbenh;\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getChitietphieukham } from \"src/redux/action-creators\";\r\nimport {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport ModalToathuoc from \"./ModalToathuoc\";\r\nimport ModalChitietbenh from \"./ModalChitietbenh\";\r\n\r\nconst Detail = () => {\r\n  const { id } = useParams();\r\n  const [modalTT, setModalTT] = useState(false);\r\n  const [modalCB, setModalCB] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const { chitietphieukham } = useSelector((state) => state.chitietphieukham);\r\n  console.log(chitietphieukham);\r\n\r\n  const handleClickTT = () => {\r\n    setModalTT(true);\r\n  };\r\n\r\n  const handleClickCB = () => {\r\n    setModalCB(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch(getChitietphieukham(id));\r\n  }, [dispatch, id]);\r\n  if (!chitietphieukham) {\r\n    return <div>No data</div>;\r\n  } else {\r\n    return (\r\n      <>\r\n        <CRow>\r\n          <CCol xs=\"12\" lg=\"12\">\r\n            <CCard>\r\n              <CCardHeader\r\n                style={{\r\n                  display: \"flex\",\r\n                  justifyContent: \"space-between\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <span>Detail Chi tiết phiếu khám</span>\r\n              </CCardHeader>\r\n              <CCardBody>\r\n                <CRow>\r\n                  <CCol xs={2}>Mã số:</CCol>\r\n                  <CCol xs={10}>\r\n                    {chitietphieukham.mso && chitietphieukham.mso}\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol xs={2}>Bác sĩ:</CCol>\r\n                  <CCol xs={10}>\r\n                    {chitietphieukham.bacsi && chitietphieukham.bacsi.ten}\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol xs={2}>Phiếu khám:</CCol>\r\n                  <CCol xs={10}>\r\n                    {chitietphieukham.phieukhambenh &&\r\n                      chitietphieukham.phieukhambenh.mso}{\" \"}\r\n                    -{\" \"}\r\n                    {chitietphieukham.phieukhambenh &&\r\n                      chitietphieukham.phieukhambenh.hosobenhnhan.mso +\r\n                        \" - \" +\r\n                        chitietphieukham.phieukhambenh.hosobenhnhan.ten}\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol xs={2}>Triệu Chứng:</CCol>\r\n                  <CCol xs={10}>\r\n                    {chitietphieukham.trieuchung && chitietphieukham.trieuchung}\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol xs={2}>Danh sách Bệnh:</CCol>\r\n                  <CCol xs={10}>\r\n                    <CCard style={{ paddingBottom: \"0px\", marginTop: \"20px\" }}>\r\n                      <CCardHeader\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <span>Danh sách Bệnh:</span>\r\n                        <CButton color=\"success\" onClick={handleClickCB}>\r\n                          Add Post\r\n                        </CButton>\r\n                      </CCardHeader>\r\n                      <CCardBody style={{ paddingBottom: \"0px\" }}>\r\n                        <CDataTable\r\n                          style={{ marginBottom: \"0px\" }}\r\n                          items={\r\n                            chitietphieukham.chitiet && chitietphieukham.chitiet\r\n                          }\r\n                          fields={[\"Mã Số\", \"Tên Bệnh\"]}\r\n                          striped\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          scopedSlots={{\r\n                            \"Mã Số\": (item) => (\r\n                              <td>{item.benh && item.benh.mso}</td>\r\n                            ),\r\n                            \"Tên Bệnh\": (item) => (\r\n                              <td>{item.benh && item.benh.ten}</td>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </CCardBody>\r\n                    </CCard>\r\n                  </CCol>\r\n                </CRow>\r\n                <CRow>\r\n                  <CCol xs={12}>\r\n                    <CCard style={{ paddingBottom: \"0px\", marginTop: \"20px\" }}>\r\n                      <CCardHeader\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <span>\r\n                          Toa thuốc:{\" \"}\r\n                          <b>\r\n                            {chitietphieukham.toathuoc &&\r\n                              chitietphieukham.toathuoc.mso}\r\n                          </b>\r\n                        </span>\r\n                        <CButton color=\"success\" onClick={handleClickTT}>\r\n                          Add Post\r\n                        </CButton>\r\n                      </CCardHeader>\r\n                      <CCardBody style={{ paddingBottom: \"0px\" }}>\r\n                        <CDataTable\r\n                          style={{ marginBottom: \"0px\" }}\r\n                          items={\r\n                            chitietphieukham.toathuoc &&\r\n                            chitietphieukham.toathuoc.chitiet\r\n                          }\r\n                          fields={[\"Mã Số\", \"Tên thuốc\", \"Số lượng\"]}\r\n                          striped\r\n                          itemsPerPage={10}\r\n                          pagination\r\n                          scopedSlots={{\r\n                            \"Mã Số\": (item) => (\r\n                              <td>{item.thuoc && item.thuoc.mso}</td>\r\n                            ),\r\n                            \"Tên thuốc\": (item) => (\r\n                              <td>{item.thuoc && item.thuoc.ten}</td>\r\n                            ),\r\n                            \"Số lượng\": (item) => <td>{item.soluong}</td>,\r\n                          }}\r\n                        />\r\n                      </CCardBody>\r\n                    </CCard>\r\n                  </CCol>\r\n                </CRow>\r\n              </CCardBody>\r\n            </CCard>\r\n          </CCol>\r\n        </CRow>\r\n        <ModalToathuoc\r\n          modal={modalTT}\r\n          setModal={setModalTT}\r\n          oldToathuoc={\r\n            (chitietphieukham.toathuoc && chitietphieukham.toathuoc) || \"\"\r\n          }\r\n          chitietphieukham={chitietphieukham}\r\n        />\r\n        <ModalChitietbenh\r\n          modal={modalCB}\r\n          setModal={setModalCB}\r\n          oldChitietbenh={\r\n            (chitietphieukham.chitiet && chitietphieukham.chitiet) || \"\"\r\n          }\r\n          chitietphieukham={chitietphieukham}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Detail;\r\n"],"sourceRoot":""}