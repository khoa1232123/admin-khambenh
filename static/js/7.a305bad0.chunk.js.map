{"version":3,"sources":["helpers/index.jsx","helpers/renderOptions.jsx","views/khambenh/Phieuxetnghiem/ModalPhieuxetnghiem.jsx","views/khambenh/Phieuxetnghiem/index.jsx"],"names":["randomMaso","prefix","random","Math","floor","replace","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","formatInputDate","renderOptions","options","data","push","value","item","_id","mso","ten","ModalPhieuxetnghiem","modal","setModal","oldPhieuxetnghiem","dispatch","useDispatch","benhnhans","useSelector","state","benhnhan","useEffect","getBenhnhans","useState","phieuxetnghiem","setPhieuxetnghiem","handleChange","e","console","log","name","target","closeModal","show","onClose","closeButton","action","method","className","row","md","htmlFor","xs","id","hosobenhnhan","onChange","type","placeholder","ngaydong","sotien","color","onClick","Object","keys","createPhieuxetnghiem","updatePhieuxetnghiem","Phieuxetnghiem","setOldPhieuxetnghiem","phieuxetnghiems","getPhieuxetnghiems","lg","style","display","justifyContent","alignItems","items","fields","striped","itemsPerPage","pagination","scopedSlots","Ngày","ngay","ketqua","email","sodienthoai","actions","handleUpdate","window","confirm","deletePhieuxetnghiem","handleDelete"],"mappings":"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","file":"static/js/7.a305bad0.chunk.js","sourcesContent":["const randomMaso = (prefix) => {\r\n  let random = Math.floor(Math.random() * 999999) + 1000001;\r\n  random = random + \"\";\r\n  let del_str = random.replace(\"1\", \"\");\r\n  return prefix + del_str;\r\n};\r\n\r\nconst formatDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [day, month, year].join(\"/\");\r\n};\r\n\r\nconst formatInputDate = (date) => {\r\n  var d = new Date(date),\r\n    month = \"\" + (d.getMonth() + 1),\r\n    day = \"\" + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = \"0\" + month;\r\n  if (day.length < 2) day = \"0\" + day;\r\n\r\n  return [year, month, day].join(\"-\");\r\n};\r\n\r\nconst renderGioitinh = () => {\r\n  var data = [];\r\n  data.push(<option value=\"\">--Select Options--</option>);\r\n  data.push(<option value=\"nam\">Nam</option>);\r\n  data.push(<option value=\"nu\">Nữ</option>);\r\n  data.push(<option value=\"khac\">Khác</option>);\r\n\r\n  return data;\r\n};\r\n\r\nexport { randomMaso, formatDate, renderGioitinh, formatInputDate };\r\n","const renderOptions = (options) => {\r\n  const data = [];\r\n  data.push(\r\n    <option value=\"\" key=\"1\">\r\n      -- Select Options --\r\n    </option>\r\n  );\r\n\r\n  for (const item of options) {\r\n    data.push(\r\n      <option\r\n        value={item._id}\r\n        key={item._id}\r\n      >{`${item.mso} - ${item.ten}`}</option>\r\n    );\r\n  }\r\n\r\n  return data;\r\n};\r\n\r\nexport { renderOptions };\r\n","import {\r\n  CButton,\r\n  CCol,\r\n  CForm,\r\n  CFormGroup,\r\n  CInput,\r\n  CLabel,\r\n  CModal,\r\n  CModalBody,\r\n  CModalFooter,\r\n  CModalHeader,\r\n  CModalTitle,\r\n  CSelect,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { formatInputDate } from \"src/helpers\";\r\nimport { randomMaso } from \"src/helpers\";\r\nimport { renderOptions } from \"src/helpers/renderOptions\";\r\nimport {\r\n  createPhieuxetnghiem,\r\n  getBenhnhans,\r\n  updatePhieuxetnghiem,\r\n} from \"src/redux/action-creators\";\r\n\r\nconst ModalPhieuxetnghiem = ({ modal, setModal, oldPhieuxetnghiem }) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { benhnhans } = useSelector((state) => state.benhnhan);\r\n\r\n  useEffect(() => {\r\n    dispatch(getBenhnhans());\r\n  }, [dispatch]);\r\n\r\n  const [phieuxetnghiem, setPhieuxetnghiem] = useState({});\r\n\r\n  const handleChange = (e) => {\r\n    console.log(e);\r\n    const name = e.target.name;\r\n    const value = e.target.value;\r\n    setPhieuxetnghiem({ ...phieuxetnghiem, [name]: value });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (oldPhieuxetnghiem) {\r\n      setPhieuxetnghiem(oldPhieuxetnghiem);\r\n    }\r\n  }, [oldPhieuxetnghiem]);\r\n\r\n  const handleClick = () => {\r\n    console.log({ phieuxetnghiem, oldPhieuxetnghiem });\r\n    if (phieuxetnghiem.ten !== \"\") {\r\n      if (Object.keys(oldPhieuxetnghiem).length === 0) {\r\n        phieuxetnghiem[\"mso\"] = randomMaso(\"xn\");\r\n\r\n        dispatch(createPhieuxetnghiem(phieuxetnghiem));\r\n      } else {\r\n        dispatch(updatePhieuxetnghiem(phieuxetnghiem));\r\n      }\r\n      setPhieuxetnghiem({});\r\n      setModal(false);\r\n    }\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setPhieuxetnghiem({});\r\n    setModal(false);\r\n  };\r\n\r\n  return (\r\n    <CModal show={modal} onClose={closeModal}>\r\n      <CModalHeader closeButton>\r\n        <CModalTitle>Update Phieuxetnghiem</CModalTitle>\r\n      </CModalHeader>\r\n      <CModalBody>\r\n        <CForm action=\"\" method=\"post\" className=\"form-horizontal\">\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Bệnh Nhân</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CSelect\r\n                id=\"hosobenhnhan\"\r\n                name=\"hosobenhnhan\"\r\n                value={phieuxetnghiem.hosobenhnhan || \"\"}\r\n                onChange={handleChange}\r\n              >\r\n                {renderOptions(benhnhans)}\r\n              </CSelect>\r\n            </CCol>\r\n          </CFormGroup>\r\n\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Ngày Đóng</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CInput\r\n                id=\"ngaydong\"\r\n                type=\"date\"\r\n                name=\"ngaydong\"\r\n                placeholder=\"Ngày Nhập Viện\"\r\n                value={formatInputDate(phieuxetnghiem.ngaydong) || \"\"}\r\n                onChange={handleChange}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n          <CFormGroup row>\r\n            <CCol md=\"3\">\r\n              <CLabel htmlFor=\"text-input\">Số tiền</CLabel>\r\n            </CCol>\r\n            <CCol xs=\"12\" md=\"9\">\r\n              <CInput\r\n                id=\"sotien\"\r\n                type=\"number\"\r\n                name=\"sotien\"\r\n                placeholder=\"Số tiền\"\r\n                value={phieuxetnghiem.sotien || 0}\r\n                onChange={handleChange}\r\n              />\r\n            </CCol>\r\n          </CFormGroup>\r\n        </CForm>\r\n      </CModalBody>\r\n      <CModalFooter>\r\n        <CButton color=\"primary\" onClick={handleClick}>\r\n          Submit\r\n        </CButton>{\" \"}\r\n        <CButton color=\"secondary\" onClick={closeModal}>\r\n          Cancel\r\n        </CButton>\r\n      </CModalFooter>\r\n    </CModal>\r\n  );\r\n};\r\n\r\nexport default ModalPhieuxetnghiem;\r\n","import {\r\n  CButton,\r\n  CCard,\r\n  CCardBody,\r\n  CCardHeader,\r\n  CCol,\r\n  CDataTable,\r\n  CRow,\r\n} from \"@coreui/react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { formatDate } from \"src/helpers\";\r\nimport {\r\n  getPhieuxetnghiems,\r\n  deletePhieuxetnghiem,\r\n} from \"src/redux/action-creators\";\r\nimport ModalPhieuxetnghiem from \"./ModalPhieuxetnghiem\";\r\n\r\nconst Phieuxetnghiem = () => {\r\n  const dispatch = useDispatch();\r\n  const [oldPhieuxetnghiem, setOldPhieuxetnghiem] = useState({});\r\n  const [modal, setModal] = useState(false);\r\n\r\n  const { phieuxetnghiems } = useSelector((state) => state.phieuxetnghiem);\r\n\r\n  useEffect(() => {\r\n    dispatch(getPhieuxetnghiems());\r\n  }, [dispatch]);\r\n\r\n  const handleUpdate = (item) => {\r\n    setOldPhieuxetnghiem(item);\r\n    setModal(true);\r\n  };\r\n\r\n  const handleDelete = (item) => {\r\n    if (window.confirm(\"Are you sure?\")) {\r\n      dispatch(deletePhieuxetnghiem(item));\r\n    }\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setModal(true);\r\n  };\r\n\r\n  console.log(phieuxetnghiems);\r\n\r\n  return (\r\n    <>\r\n      <CRow>\r\n        <CCol xs=\"12\" lg=\"12\">\r\n          <CCard>\r\n            <CCardHeader\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <span>Posts</span>\r\n              <CButton color=\"success\" onClick={handleClick}>\r\n                Add Post\r\n              </CButton>\r\n            </CCardHeader>\r\n            <CCardBody>\r\n              <CDataTable\r\n                items={phieuxetnghiems}\r\n                fields={[\r\n                  \"Mã Số\",\r\n                  \"Tên xét nghiệm\",\r\n                  \"Ngày\",\r\n                  \"Kết quả\",\r\n                  \"Mã Bệnh Nhân\",\r\n                  \"Tên bệnh nhân\",\r\n                  \"email\",\r\n                  \"Số điện thoại\",\r\n                  \"actions\",\r\n                ]}\r\n                striped\r\n                itemsPerPage={10}\r\n                pagination\r\n                scopedSlots={{\r\n                  \"Mã Số\": (item) => <td>{item.mso}</td>,\r\n                  \"Tên xét nghiệm\": (item) => <td>{item.ten}</td>,\r\n                  Ngày: (item) => <td>{formatDate(item.ngay)}</td>,\r\n                  \"Kết quả\": (item) => <td>{item.ketqua}</td>,\r\n                  \"Mã Bệnh Nhân\": (item) => <td>{item.hosobenhnhan.mso}</td>,\r\n                  \"Tên bệnh nhân\": (item) => <td>{item.hosobenhnhan.ten}</td>,\r\n                  email: (item) => <td>{item.hosobenhnhan.email}</td>,\r\n                  \"Số điện thoại\": (item) => (\r\n                    <td>{item.hosobenhnhan.sodienthoai}</td>\r\n                  ),\r\n                  actions: (item) => (\r\n                    <td>\r\n                      <CButton\r\n                        color=\"warning\"\r\n                        onClick={(e) => handleUpdate(item)}\r\n                      >\r\n                        Edit\r\n                      </CButton>{\" \"}\r\n                      <CButton\r\n                        color=\"danger\"\r\n                        onClick={(e) => handleDelete(item)}\r\n                      >\r\n                        Delete\r\n                      </CButton>\r\n                    </td>\r\n                  ),\r\n                }}\r\n              />\r\n            </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n      <ModalPhieuxetnghiem\r\n        modal={modal}\r\n        setModal={setModal}\r\n        oldPhieuxetnghiem={oldPhieuxetnghiem}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Phieuxetnghiem;\r\n"],"sourceRoot":""}