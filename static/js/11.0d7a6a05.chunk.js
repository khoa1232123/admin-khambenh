(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[11],{702:function(t,e,n){"use strict";n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));n(3);var c=function(t){var e=Math.floor(999999*Math.random())+1000001;return t+(e+="").replace("1","")},o=function(t){var e=new Date(t),n=""+(e.getMonth()+1),c=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),c.length<2&&(c="0"+c),[c,n,o].join("/")},r=function(t){var e=new Date(t),n=""+(e.getMonth()+1),c=""+e.getDate(),o=e.getFullYear();return n.length<2&&(n="0"+n),c.length<2&&(c="0"+c),[o,n,c].join("-")}},703:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return s}));var c=n(109),o=n(3),r=function(t){var e=[];e.push(Object(o.jsx)("option",{value:"",children:"-- Select Options --"},"1"));var n,r=Object(c.a)(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;e.push(Object(o.jsx)("option",{value:s._id,children:"".concat(s.mso," - ").concat(s.msobn?s.msobn:""," ").concat(s.ten?s.ten:"")},s._id))}}catch(i){r.e(i)}finally{r.f()}return e},s=function(t){var e=[];return t.map((function(t){e.push({_id:t._id,mso:t.mso,msobn:t.hosobenhnhan.mso,ten:t.hosobenhnhan.ten})})),e}},718:function(t,e,n){"use strict";n.r(e);var c=n(41),o=n(6),r=n(1),s=n(34),i=n(702),j=n(84),l=n(25),u=n(108),a=n(19),h=n(703),b=n(195),d=n(3),O=function(t){var e=t.modal,n=t.setModal,O=t.oldToathuoc,f=Object(s.b)(),x=Object(s.c)((function(t){return t.thuoc})).thuocs;Object(r.useEffect)((function(){f(Object(b.c)())}),[f]),console.log(O);var m=Object(r.useState)({}),g=Object(c.a)(m,2),p=g[0],v=g[1],y=Object(r.useState)([{thuoc:"",soluong:0}]),C=Object(c.a)(y,2),w=C[0],k=C[1],S=function(t,e){console.log(t);var n=Object(l.a)(w),c=t.target.name,o=t.target.value;n[e][c]="soluong"===c?Number(o):o,k(n)};Object(r.useEffect)((function(){0!==Object.keys(O).length&&(v(O),k(Object(l.a)(O.chitiet)))}),[O]);var M=function(){v({}),k([{thuoc:"",soluong:0}]),n(!1)};return Object(d.jsxs)(o.N,{show:e,onClose:M,size:"lg",children:[Object(d.jsx)(o.Q,{closeButton:!0,children:Object(d.jsx)(o.R,{children:"Toathuoc"})}),Object(d.jsx)(o.O,{children:Object(d.jsxs)(o.x,{action:"",method:"post",className:"form-horizontal",children:[Object(d.jsxs)(o.y,{row:!0,children:[Object(d.jsx)(o.n,{md:"3",children:Object(d.jsx)(o.L,{htmlFor:"text-input",children:"Ng\xe0y l\u1eadp"})}),Object(d.jsx)(o.n,{xs:"12",md:"9",children:Object(d.jsx)(o.F,{id:"ngaylap",type:"date",name:"ngaylap",placeholder:"Ng\xe0y l\u1eadp",value:Object(i.b)(p.ngaylap)||"",onChange:function(t){console.log(t.target.name);var e=t.target.name,n=t.target.value;v(Object(a.a)(Object(a.a)({},p),{},Object(u.a)({},e,n)))}})})]}),Object(d.jsxs)(o.y,{row:!0,children:[Object(d.jsx)(o.n,{md:"3",children:Object(d.jsx)(o.L,{htmlFor:"text-input",children:"Danh s\xe1ch thu\u1ed1c"})}),Object(d.jsxs)(o.n,{xs:"12",md:"9",children:[w.map((function(t,e){return Object(d.jsxs)(o.T,{children:[Object(d.jsx)(o.n,{xs:"7",md:"7",children:Object(d.jsx)(o.U,{name:"thuoc",value:t.thuoc&&t.thuoc._id||t.thuoc||"",onChange:function(t){return S(t,e)},children:Object(h.b)(x)})}),Object(d.jsx)(o.n,{xs:"3",md:"3",children:Object(d.jsx)(o.F,{name:"soluong",type:"number",value:t.soluong||0,onChange:function(t){return S(t,e)}})}),Object(d.jsx)(o.n,{xs:"2",md:"2",children:Object(d.jsx)(o.f,{color:"danger",onClick:function(t){return function(t,e){console.log(w);var n=Object(l.a)(w);n.splice(e,1),k(n)}(0,e)},children:"X"})}),Object(d.jsx)(o.n,{xs:"12",md:"12",children:Object(d.jsx)("br",{})})]},e)})),Object(d.jsx)(o.n,{xs:"12",md:"12",children:Object(d.jsx)(o.f,{type:"button",color:"success",onClick:function(){k([].concat(Object(l.a)(w),[{thuoc:"",soluong:0}]))},children:"Th\xeam thu\u1ed1c"})})]})]}),Object(d.jsxs)(o.y,{row:!0,children:[Object(d.jsx)(o.n,{md:"3"}),Object(d.jsx)(o.n,{xs:"12",md:"9"})]})]})}),Object(d.jsxs)(o.P,{children:[Object(d.jsx)(o.f,{color:"primary",onClick:function(){console.log({toathuoc:p,oldToathuoc:O,chitiettoathuoc:w}),p.chitiet=w,0===Object.keys(O).length?(p.mso=Object(i.c)("tt"),f(Object(j.l)(p))):f(Object(j.eb)(p)),console.log(p),v({}),k([{thuoc:"",soluong:0}]),n(!1)},children:"Submit"})," ",Object(d.jsx)(o.f,{color:"secondary",onClick:M,children:"Cancel"})]})]})};e.default=function(){var t=Object(s.b)(),e=Object(r.useState)({}),n=Object(c.a)(e,2),l=n[0],u=n[1],a=Object(r.useState)(!1),h=Object(c.a)(a,2),b=h[0],f=h[1],x=Object(s.c)((function(t){return t.toathuoc})).toathuocs;Object(r.useEffect)((function(){t(Object(j.N)())}),[t]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(o.T,{children:Object(d.jsx)(o.n,{xs:"12",lg:"12",children:Object(d.jsxs)(o.i,{children:[Object(d.jsxs)(o.m,{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(d.jsx)("span",{children:"Posts"}),Object(d.jsx)(o.f,{color:"success",onClick:function(){f(!0)},children:"Add Post"})]}),Object(d.jsx)(o.j,{children:Object(d.jsx)(o.q,{items:x,fields:["M\xe3 S\u1ed1","Ng\xe0y l\u1eadp","Chi ti\u1ebft","actions"],striped:!0,itemsPerPage:10,pagination:!0,scopedSlots:{"M\xe3 S\u1ed1":function(t){return Object(d.jsx)("td",{children:t.mso})},"Ng\xe0y l\u1eadp":function(t){return Object(d.jsx)("td",{children:Object(i.a)(t.ngaylap)})},"Chi ti\u1ebft":function(t){return Object(d.jsx)("td",{children:t.chitiet.map((function(t,e){return Object(d.jsxs)("div",{children:[t.soluong," x ",t.thuoc.mso," - ",t.thuoc.ten]},e)}))})},actions:function(e){return Object(d.jsxs)("td",{children:[Object(d.jsx)(o.f,{color:"warning",onClick:function(t){return function(t){u(t),f(!0)}(e)},children:"Edit"})," ",Object(d.jsx)(o.f,{color:"danger",onClick:function(n){return function(e){window.confirm("Are you sure?")&&t(Object(j.y)(e))}(e)},children:"Delete"})]})}}})})]})})}),Object(d.jsx)(O,{modal:b,setModal:f,oldToathuoc:l})]})}}}]);
//# sourceMappingURL=11.0d7a6a05.chunk.js.map